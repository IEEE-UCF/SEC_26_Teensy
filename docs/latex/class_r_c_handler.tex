\doxysection{RCHandler Class Reference}
\hypertarget{class_r_c_handler}{}\label{class_r_c_handler}\index{RCHandler@{RCHandler}}


Handles Fly\+Sky IBUS remote control input. This class initializes and manages communication with a Fly\+Sky receiver via the IBUS protocol. It reads channel data, scales it, and provides access to these values. It also includes functionality for failsafe behavior if a specific channel indicates a signal loss or specific state.  




{\ttfamily \#include $<$RCHandler.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_r_c_handler_a2511ea3d580b45833dbb0315c8f8df80}{RCHandler}} ()
\begin{DoxyCompactList}\small\item\em Constructs an \doxylink{class_r_c_handler}{RCHandler} object. Initializes the {\ttfamily update\+Timer} and sets all channel values in the {\ttfamily pots} array to 0. This prepares the handler for communication without initial garbage values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_c_handler_a3a16a208a2d7320f3b45ef5bd52ba31e}{Begin}} (Hardware\+Serial \&serial)
\begin{DoxyCompactList}\small\item\em Initializes IBUS communication. Starts the IBUS communication on the specified hardware serial port. It configures the IBus\+BM library to operate without its internal timer, as timing is handled by the {\ttfamily update\+Timer} in the {\ttfamily Update} method. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_c_handler_a8d0629be4679dc2f7d9b763bc8033b84}{Update}} ()
\begin{DoxyCompactList}\small\item\em Reads and updates the values from the Fly\+Sky receiver. This method should be called periodically. It checks if the {\ttfamily DELAY} period has elapsed since the last update. If so, it calls {\ttfamily IBus.\+loop()} to read new data from the receiver. It then reads up to 10 channels, maps the raw IBUS values (typically 1000-\/2000) to a bipolar range (-\/255 to 255), and stores them. A simple failsafe mechanism is implemented\+: if channel 9 (index) reads -\/255 (often a switch indicating off or failsafe), channels 0, 1, 2, 3, and 5 are zeroed out. Otherwise, all read channel values are updated. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{class_r_c_handler_af666fe0f1690f33c00428f9699e38a25}{Get}} (int channel)
\begin{DoxyCompactList}\small\item\em Retrieves the scaled value of a specific RC channel. Returns the processed value for the requested channel index. The value ranges from -\/255 to 255. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_c_handler_ac37dae552f591f051798de6a1ab4846a}{Print\+Info}} (Print \&output, bool print\+Config=false) const
\begin{DoxyCompactList}\small\item\em Prints \doxylink{class_r_c_handler}{RCHandler} configuration or current input values to a Print stream. If {\ttfamily print\+Config} is true, it prints static configuration information like the number of channels handled. Otherwise (if {\ttfamily print\+Config} is false), it prints the current scaled values of all 10 RC channels. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
Print \& \mbox{\hyperlink{class_r_c_handler_aeeef6698ab55c538c398003464775f2c}{operator$<$$<$}} (Print \&output, const \mbox{\hyperlink{class_r_c_handler}{RCHandler}} \&handler)
\begin{DoxyCompactList}\small\item\em Overloaded stream insertion operator for printing \doxylink{class_r_c_handler}{RCHandler} details. Allows an \doxylink{class_r_c_handler}{RCHandler} object to be easily printed to any Print-\/derived stream (like Serial) using the {\ttfamily \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}} operator. This will print the current runtime channel values by default. Example\+: {\ttfamily Serial \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} my\+RCHandler;} \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles Fly\+Sky IBUS remote control input. This class initializes and manages communication with a Fly\+Sky receiver via the IBUS protocol. It reads channel data, scales it, and provides access to these values. It also includes functionality for failsafe behavior if a specific channel indicates a signal loss or specific state. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_r_c_handler_a2511ea3d580b45833dbb0315c8f8df80}\index{RCHandler@{RCHandler}!RCHandler@{RCHandler}}
\index{RCHandler@{RCHandler}!RCHandler@{RCHandler}}
\doxysubsubsection{\texorpdfstring{RCHandler()}{RCHandler()}}
{\footnotesize\ttfamily \label{class_r_c_handler_a2511ea3d580b45833dbb0315c8f8df80} 
RCHandler\+::\+RCHandler (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Constructs an \doxylink{class_r_c_handler}{RCHandler} object. Initializes the {\ttfamily update\+Timer} and sets all channel values in the {\ttfamily pots} array to 0. This prepares the handler for communication without initial garbage values. 



\doxysubsection{Member Function Documentation}
\Hypertarget{class_r_c_handler_a3a16a208a2d7320f3b45ef5bd52ba31e}\index{RCHandler@{RCHandler}!Begin@{Begin}}
\index{Begin@{Begin}!RCHandler@{RCHandler}}
\doxysubsubsection{\texorpdfstring{Begin()}{Begin()}}
{\footnotesize\ttfamily \label{class_r_c_handler_a3a16a208a2d7320f3b45ef5bd52ba31e} 
void RCHandler\+::\+Begin (\begin{DoxyParamCaption}\item[{Hardware\+Serial \&}]{serial}{}\end{DoxyParamCaption})}



Initializes IBUS communication. Starts the IBUS communication on the specified hardware serial port. It configures the IBus\+BM library to operate without its internal timer, as timing is handled by the {\ttfamily update\+Timer} in the {\ttfamily Update} method. 


\begin{DoxyParams}{Parameters}
{\em serial} & A reference to the Hardware\+Serial object (e.\+g., Serial1, Serial2) to be used for IBUS communication. \\
\hline
\end{DoxyParams}
\Hypertarget{class_r_c_handler_af666fe0f1690f33c00428f9699e38a25}\index{RCHandler@{RCHandler}!Get@{Get}}
\index{Get@{Get}!RCHandler@{RCHandler}}
\doxysubsubsection{\texorpdfstring{Get()}{Get()}}
{\footnotesize\ttfamily \label{class_r_c_handler_af666fe0f1690f33c00428f9699e38a25} 
int32\+\_\+t RCHandler\+::\+Get (\begin{DoxyParamCaption}\item[{int}]{channel}{}\end{DoxyParamCaption})}



Retrieves the scaled value of a specific RC channel. Returns the processed value for the requested channel index. The value ranges from -\/255 to 255. 


\begin{DoxyParams}{Parameters}
{\em channel} & The channel index to retrieve (0 to 9). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The scaled value of the specified channel. Returns 0 if the channel index is out of bounds. 
\end{DoxyReturn}
\Hypertarget{class_r_c_handler_ac37dae552f591f051798de6a1ab4846a}\index{RCHandler@{RCHandler}!PrintInfo@{PrintInfo}}
\index{PrintInfo@{PrintInfo}!RCHandler@{RCHandler}}
\doxysubsubsection{\texorpdfstring{PrintInfo()}{PrintInfo()}}
{\footnotesize\ttfamily \label{class_r_c_handler_ac37dae552f591f051798de6a1ab4846a} 
void RCHandler\+::\+Print\+Info (\begin{DoxyParamCaption}\item[{Print \&}]{output}{, }\item[{bool}]{print\+Config}{ = {\ttfamily false}}\end{DoxyParamCaption}) const}



Prints \doxylink{class_r_c_handler}{RCHandler} configuration or current input values to a Print stream. If {\ttfamily print\+Config} is true, it prints static configuration information like the number of channels handled. Otherwise (if {\ttfamily print\+Config} is false), it prints the current scaled values of all 10 RC channels. 


\begin{DoxyParams}{Parameters}
{\em output} & Reference to a Print object (e.\+g., Serial, LCD) where the info will be printed. \\
\hline
{\em print\+Config} & Boolean flag; if true, prints configuration details, else prints current runtime channel values. Defaults to false. \\
\hline
\end{DoxyParams}
\Hypertarget{class_r_c_handler_a8d0629be4679dc2f7d9b763bc8033b84}\index{RCHandler@{RCHandler}!Update@{Update}}
\index{Update@{Update}!RCHandler@{RCHandler}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily \label{class_r_c_handler_a8d0629be4679dc2f7d9b763bc8033b84} 
void RCHandler\+::\+Update (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Reads and updates the values from the Fly\+Sky receiver. This method should be called periodically. It checks if the {\ttfamily DELAY} period has elapsed since the last update. If so, it calls {\ttfamily IBus.\+loop()} to read new data from the receiver. It then reads up to 10 channels, maps the raw IBUS values (typically 1000-\/2000) to a bipolar range (-\/255 to 255), and stores them. A simple failsafe mechanism is implemented\+: if channel 9 (index) reads -\/255 (often a switch indicating off or failsafe), channels 0, 1, 2, 3, and 5 are zeroed out. Otherwise, all read channel values are updated. 



\doxysubsection{Friends And Related Symbol Documentation}
\Hypertarget{class_r_c_handler_aeeef6698ab55c538c398003464775f2c}\index{RCHandler@{RCHandler}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!RCHandler@{RCHandler}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$}{operator<<}}
{\footnotesize\ttfamily \label{class_r_c_handler_aeeef6698ab55c538c398003464775f2c} 
Print \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{Print \&}]{output}{, }\item[{const \mbox{\hyperlink{class_r_c_handler}{RCHandler}} \&}]{handler}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Overloaded stream insertion operator for printing \doxylink{class_r_c_handler}{RCHandler} details. Allows an \doxylink{class_r_c_handler}{RCHandler} object to be easily printed to any Print-\/derived stream (like Serial) using the {\ttfamily \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}} operator. This will print the current runtime channel values by default. Example\+: {\ttfamily Serial \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} my\+RCHandler;} 


\begin{DoxyParams}{Parameters}
{\em output} & Reference to the Print stream. \\
\hline
{\em handler} & Const reference to the \doxylink{class_r_c_handler}{RCHandler} object to print. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Reference to the Print stream, allowing for chaining. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/handler/\mbox{\hyperlink{_r_c_handler_8h}{RCHandler.\+h}}\item 
src/handler/\mbox{\hyperlink{_r_c_handler_8cpp}{RCHandler.\+cpp}}\end{DoxyCompactItemize}
