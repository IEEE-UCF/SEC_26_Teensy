\doxysection{TOFHandler Class Reference}
\hypertarget{class_t_o_f_handler}{}\label{class_t_o_f_handler}\index{TOFHandler@{TOFHandler}}


Manages multiple VL53\+L0X Time-\/of-\/\+Flight distance sensors using an I2C multiplexer. This class handles the initialization, update, and data retrieval for an array of VL53\+L0X sensors, each connected to a different channel of an I2C multiplexer.  




{\ttfamily \#include $<$TOFHandler.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_o_f_handler_adce82073bfd71cb8640a3f7645d10fc7}{TOFHandler}} (int \texorpdfstring{$\ast$}{*}multiplexer\+Channels, int num\+Sensors)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_t_o_f_handler}{TOFHandler} object. Stores the I2C multiplexer channel assignments and the number of sensors. Dynamically allocates memory for sensor objects and distance readings. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_f_handler_af481829260198305976fe931f4fffd25}{\texorpdfstring{$\sim$}{\string~}\+TOFHandler}} ()
\begin{DoxyCompactList}\small\item\em Destructor for \doxylink{class_t_o_f_handler}{TOFHandler}. Frees the dynamically allocated memory for sensor objects and distance arrays to prevent memory leaks. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_o_f_handler_afe6cce85c9c2b7545f92ff60a61fbc52}{Begin}} ()
\begin{DoxyCompactList}\small\item\em Initializes all configured VL53\+L0X sensors. Iterates through each sensor, selects its I2C multiplexer channel, sets the I2C bus (Wire1), and initializes the sensor. Configures sensor parameters like signal rate limit, measurement timing budget, and VCSEL pulse periods. Starts continuous measurement mode for all sensors. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_o_f_handler_a44fb96712b1eba8897efe31d283889e8}{Update}} ()
\begin{DoxyCompactList}\small\item\em Updates distance readings from all sensors. For each sensor, selects its I2C multiplexer channel and reads the latest distance measurement in continuous mode. Stores the reading in millimeters. If a timeout occurs during a read, a message is printed to Serial. \end{DoxyCompactList}\item 
const int \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_t_o_f_handler_afe0c8b00603db155abe7bc859e55e908}{Get\+Distances}} () const
\begin{DoxyCompactList}\small\item\em Gets a pointer to the array of current distance readings. Provides access to all measured distances. The distances are in millimeters. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_o_f_handler_ac9f77b1deb8bee62e63baba044216422}{Get\+Distance\+At\+Index}} (int index) const
\begin{DoxyCompactList}\small\item\em Gets the distance reading for a specific sensor by its index. Retrieves the last measured distance for the sensor at the given index. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_o_f_handler_a563b21a54f4e867fb80897cc08530125}{Print\+Info}} (Print \&output, bool print\+Config=false) const
\begin{DoxyCompactList}\small\item\em Prints \doxylink{class_t_o_f_handler}{TOFHandler} configuration or current distance readings. If {\ttfamily print\+Config} is true, outputs the number of channels and their I2C multiplexer assignments. Otherwise, prints the latest distance reading for each sensor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
Print \& \mbox{\hyperlink{class_t_o_f_handler_a45500e967245557515e01dfd4921db58}{operator$<$$<$}} (Print \&output, const \mbox{\hyperlink{class_t_o_f_handler}{TOFHandler}} \&handler)
\begin{DoxyCompactList}\small\item\em Overloaded stream insertion operator for printing \doxylink{class_t_o_f_handler}{TOFHandler} distances. Allows easy printing of the current sensor distances to a Print stream. Example\+: {\ttfamily Serial \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} my\+TOFHandler;} \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages multiple VL53\+L0X Time-\/of-\/\+Flight distance sensors using an I2C multiplexer. This class handles the initialization, update, and data retrieval for an array of VL53\+L0X sensors, each connected to a different channel of an I2C multiplexer. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_t_o_f_handler_adce82073bfd71cb8640a3f7645d10fc7}\index{TOFHandler@{TOFHandler}!TOFHandler@{TOFHandler}}
\index{TOFHandler@{TOFHandler}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{TOFHandler()}{TOFHandler()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_adce82073bfd71cb8640a3f7645d10fc7} 
TOFHandler\+::\+TOFHandler (\begin{DoxyParamCaption}\item[{int \texorpdfstring{$\ast$}{*}}]{multiplexer\+Channels}{, }\item[{int}]{num\+Sensors}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_t_o_f_handler}{TOFHandler} object. Stores the I2C multiplexer channel assignments and the number of sensors. Dynamically allocates memory for sensor objects and distance readings. 


\begin{DoxyParams}{Parameters}
{\em multiplexer\+Channels} & Pointer to an array of integers, where each integer is the I2C multiplexer channel for the corresponding sensor. \\
\hline
{\em num\+Sensors} & The total number of VL53\+L0X sensors to manage. \\
\hline
\end{DoxyParams}
\Hypertarget{class_t_o_f_handler_af481829260198305976fe931f4fffd25}\index{TOFHandler@{TOFHandler}!````~TOFHandler@{\texorpdfstring{$\sim$}{\string~}TOFHandler}}
\index{````~TOFHandler@{\texorpdfstring{$\sim$}{\string~}TOFHandler}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}TOFHandler()}{\string~TOFHandler()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_af481829260198305976fe931f4fffd25} 
TOFHandler\+::\texorpdfstring{$\sim$}{\string~}\+TOFHandler (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Destructor for \doxylink{class_t_o_f_handler}{TOFHandler}. Frees the dynamically allocated memory for sensor objects and distance arrays to prevent memory leaks. 



\doxysubsection{Member Function Documentation}
\Hypertarget{class_t_o_f_handler_afe6cce85c9c2b7545f92ff60a61fbc52}\index{TOFHandler@{TOFHandler}!Begin@{Begin}}
\index{Begin@{Begin}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{Begin()}{Begin()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_afe6cce85c9c2b7545f92ff60a61fbc52} 
bool TOFHandler\+::\+Begin (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Initializes all configured VL53\+L0X sensors. Iterates through each sensor, selects its I2C multiplexer channel, sets the I2C bus (Wire1), and initializes the sensor. Configures sensor parameters like signal rate limit, measurement timing budget, and VCSEL pulse periods. Starts continuous measurement mode for all sensors. 

\begin{DoxyReturn}{Returns}
True if all sensors were successfully initialized, false if any sensor fails. 
\end{DoxyReturn}
\Hypertarget{class_t_o_f_handler_ac9f77b1deb8bee62e63baba044216422}\index{TOFHandler@{TOFHandler}!GetDistanceAtIndex@{GetDistanceAtIndex}}
\index{GetDistanceAtIndex@{GetDistanceAtIndex}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{GetDistanceAtIndex()}{GetDistanceAtIndex()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_ac9f77b1deb8bee62e63baba044216422} 
int TOFHandler\+::\+Get\+Distance\+At\+Index (\begin{DoxyParamCaption}\item[{int}]{index}{}\end{DoxyParamCaption}) const}



Gets the distance reading for a specific sensor by its index. Retrieves the last measured distance for the sensor at the given index. 


\begin{DoxyParams}{Parameters}
{\em index} & The index of the sensor (0 to num\+Managed\+Sensors-\/1). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The distance in millimeters for the specified sensor. Returns -\/1 if the index is out of bounds. 
\end{DoxyReturn}
\Hypertarget{class_t_o_f_handler_afe0c8b00603db155abe7bc859e55e908}\index{TOFHandler@{TOFHandler}!GetDistances@{GetDistances}}
\index{GetDistances@{GetDistances}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{GetDistances()}{GetDistances()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_afe0c8b00603db155abe7bc859e55e908} 
const int \texorpdfstring{$\ast$}{*} TOFHandler\+::\+Get\+Distances (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Gets a pointer to the array of current distance readings. Provides access to all measured distances. The distances are in millimeters. 

\begin{DoxyReturn}{Returns}
A const pointer to the integer array containing the latest distance reading for each sensor. 
\end{DoxyReturn}
\Hypertarget{class_t_o_f_handler_a563b21a54f4e867fb80897cc08530125}\index{TOFHandler@{TOFHandler}!PrintInfo@{PrintInfo}}
\index{PrintInfo@{PrintInfo}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{PrintInfo()}{PrintInfo()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_a563b21a54f4e867fb80897cc08530125} 
void TOFHandler\+::\+Print\+Info (\begin{DoxyParamCaption}\item[{Print \&}]{output}{, }\item[{bool}]{print\+Config}{ = {\ttfamily false}}\end{DoxyParamCaption}) const}



Prints \doxylink{class_t_o_f_handler}{TOFHandler} configuration or current distance readings. If {\ttfamily print\+Config} is true, outputs the number of channels and their I2C multiplexer assignments. Otherwise, prints the latest distance reading for each sensor. 


\begin{DoxyParams}{Parameters}
{\em output} & Reference to a Print object (e.\+g., Serial) for output. \\
\hline
{\em print\+Config} & If true, print configuration; otherwise, print current data. \\
\hline
\end{DoxyParams}
\Hypertarget{class_t_o_f_handler_a44fb96712b1eba8897efe31d283889e8}\index{TOFHandler@{TOFHandler}!Update@{Update}}
\index{Update@{Update}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_a44fb96712b1eba8897efe31d283889e8} 
void TOFHandler\+::\+Update (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Updates distance readings from all sensors. For each sensor, selects its I2C multiplexer channel and reads the latest distance measurement in continuous mode. Stores the reading in millimeters. If a timeout occurs during a read, a message is printed to Serial. 



\doxysubsection{Friends And Related Symbol Documentation}
\Hypertarget{class_t_o_f_handler_a45500e967245557515e01dfd4921db58}\index{TOFHandler@{TOFHandler}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOFHandler@{TOFHandler}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$}{operator<<}}
{\footnotesize\ttfamily \label{class_t_o_f_handler_a45500e967245557515e01dfd4921db58} 
Print \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{Print \&}]{output}{, }\item[{const \mbox{\hyperlink{class_t_o_f_handler}{TOFHandler}} \&}]{handler}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Overloaded stream insertion operator for printing \doxylink{class_t_o_f_handler}{TOFHandler} distances. Allows easy printing of the current sensor distances to a Print stream. Example\+: {\ttfamily Serial \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} my\+TOFHandler;} 


\begin{DoxyParams}{Parameters}
{\em output} & Reference to the Print stream. \\
\hline
{\em handler} & Const reference to the \doxylink{class_t_o_f_handler}{TOFHandler} object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Reference to the Print stream. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/handler/\mbox{\hyperlink{_t_o_f_handler_8h}{TOFHandler.\+h}}\item 
src/handler/\mbox{\hyperlink{_t_o_f_handler_8cpp}{TOFHandler.\+cpp}}\end{DoxyCompactItemize}
